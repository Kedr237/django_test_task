<h1>django_test_task</h1>
Это простой проект, который позволяет управлять показаниями счетчиков в квартирах и вычислять квартплату за период.
<h2>Запуск</h2>
<li>В директориях <i>postgres</i> и <i>backend</i> создайте <i>.env</i> файлы. Для работы будет достаточно просто скопировать содержимое соответсвующих <i>.env.example</i>.</li>
<li>Запустите через <i>docker-compose up -d</i></li>
<h2>API</h2>
API запускается на 80 порту. Для удобства редактирования и просмотра записей можно использовать стандартные формы DRF.
<h3>utilities</h3>
API для управления показаниями.
<li><i>127.0.0.1/api/v1/utilities/buildings</i> - CRUD для управления зданиями.</li>
<li><i>127.0.0.1/api/v1/utilities/apartments</i> - CRUD для управления квартирами.</li>
<li><i>127.0.0.1/api/v1/utilities/tariffs</i> - CRUD для управления тарифами</li>
<li><i>127.0.0.1/api/v1/utilities/water-meters</i> - CRUD для управления показаниями счетчиков.</li>
<li><i>127.0.0.1/api/v1/utilities/buildings-info</i> - список зданий с информацией о квартирах</li>
<h3>calculator</h3>
API для запуска вычислений квартплаты и просмотра результатов.
<li><i>127.0.0.1/api/v1/calculator/calculate-rent</i> - запускает процесс вычисления квартплаты за период.</li>
<i>{<br>
    "building_id": 1,<br>
    "area_tariff_id": 3,<br>
    "date_from": "01.09.2024",<br>
    "date_to": "01.10.2024"<br>
}</i><br>
Вычисляется от <i>date_from</i> (включительно) до <i>date_to</i> (не включительно).<br>
<i>building_id</i> - id здания для которого будут проводиться вычисления.<br>
<i>area_tariff_id</i> - id тарифа для вычисления стоимости на основе площади.<br>
<li><i>127.0.0.1/api/v1/calculator/apartments-rent</i> - список результатов вычислений</li>
<h3>Flower</h3>
Для вычислений используется celery. Для отслеживания задач используется flower, который запускается на 5555 порту.
<li><i>127.0.0.1:5555</i> - доступ к flower.</li>
